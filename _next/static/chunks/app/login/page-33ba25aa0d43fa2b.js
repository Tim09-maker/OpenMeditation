(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{4253:function(e,t,r){Promise.resolve().then(r.bind(r,4338))},2788:function(e,t,r){"use strict";r.r(t),r.d(t,{AuthProvider:function(){return i},useAuth:function(){return o}});var s=r(3827),a=r(4090);let n=(0,a.createContext)(void 0);function i(e){let{children:t}=e,[r,i]=(0,a.useState)(null),[o,u]=(0,a.useState)(!0);(0,a.useEffect)(()=>{let e=localStorage.getItem("user");e&&i(JSON.parse(e)),u(!1)},[]);let l=async(e,t)=>{try{let t={id:"1",email:e,name:"Test User"};i(t),localStorage.setItem("user",JSON.stringify(t))}catch(e){throw Error("Login failed")}},c=async(e,t,r)=>{try{let t={id:"1",email:e,name:r};i(t),localStorage.setItem("user",JSON.stringify(t))}catch(e){throw Error("Registration failed")}};return(0,s.jsx)(n.Provider,{value:{user:r,loading:o,login:l,register:c,logout:()=>{i(null),localStorage.removeItem("user")}},children:t})}function o(){let e=(0,a.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},4338:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return l}});var s=r(3827),a=r(4090),n=r(7907),i=r(2788),o=r(8371),u=r(8792);function l(){let[e,t]=(0,a.useState)(""),[r,l]=(0,a.useState)(""),[c,d]=(0,a.useState)(""),[m,h]=(0,a.useState)(!1),f=(0,n.useRouter)(),{login:x}=(0,i.useAuth)(),y=async t=>{t.preventDefault(),d(""),h(!0);try{await x(e,r),f.push("/profile")}catch(e){d("Failed to login. Please check your credentials.")}finally{h(!1)}};return(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white flex items-center justify-center p-4",children:(0,s.jsxs)(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md w-full space-y-8 bg-white p-8 rounded-2xl shadow-lg",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-center text-3xl font-bold text-gray-900",children:"Welcome Back"}),(0,s.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Continue your meditation journey"})]}),(0,s.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:y,children:[c&&(0,s.jsx)("div",{className:"bg-red-50 text-red-500 p-3 rounded-lg text-sm",children:c}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),(0,s.jsx)("input",{id:"email",name:"email",type:"email",required:!0,value:e,onChange:e=>t(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,s.jsx)("input",{id:"password",name:"password",type:"password",required:!0,value:r,onChange:e=>l(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500"})]})]}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{type:"submit",disabled:m,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Signing in...":"Sign in"})}),(0,s.jsx)("div",{className:"text-center",children:(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",(0,s.jsx)(u.default,{href:"/register",className:"font-medium text-primary-600 hover:text-primary-500",children:"Sign up"})]})})]})]})})}},7907:function(e,t,r){"use strict";var s=r(5313);r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})}},function(e){e.O(0,[371,792,971,69,744],function(){return e(e.s=4253)}),_N_E=e.O()}]);