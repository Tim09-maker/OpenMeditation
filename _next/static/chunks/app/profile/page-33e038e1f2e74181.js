(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[178],{2001:function(e,t,s){Promise.resolve().then(s.bind(s,1983))},8309:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var r=s(3827),i=s(4090),n=s(7907),a=s(2788);function l(e){let{children:t}=e,{user:s,loading:l}=(0,a.useAuth)(),o=(0,n.useRouter)();return((0,i.useEffect)(()=>{l||s||o.push("/login")},[s,l,o]),l)?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})}):s?(0,r.jsx)(r.Fragment,{children:t}):null}},2788:function(e,t,s){"use strict";s.r(t),s.d(t,{AuthProvider:function(){return a},useAuth:function(){return l}});var r=s(3827),i=s(4090);let n=(0,i.createContext)(void 0);function a(e){let{children:t}=e,[s,a]=(0,i.useState)(null),[l,o]=(0,i.useState)(!0);(0,i.useEffect)(()=>{let e=localStorage.getItem("user");e&&a(JSON.parse(e)),o(!1)},[]);let d=async(e,t)=>{try{let t={id:"1",email:e,name:"Test User"};a(t),localStorage.setItem("user",JSON.stringify(t))}catch(e){throw Error("Login failed")}},c=async(e,t,s)=>{try{let t={id:"1",email:e,name:s};a(t),localStorage.setItem("user",JSON.stringify(t))}catch(e){throw Error("Registration failed")}};return(0,r.jsx)(n.Provider,{value:{user:s,loading:l,login:d,register:c,logout:()=>{a(null),localStorage.removeItem("user")}},children:t})}function l(){let e=(0,i.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},1258:function(e,t,s){"use strict";s.r(t),s.d(t,{MeditationProvider:function(){return l},useMeditation:function(){return o}});var r=s(3827),i=s(4090),n=s(2788);let a=(0,i.createContext)(void 0);function l(e){let{children:t}=e,[s,l]=(0,i.useState)([]),[o,d]=(0,i.useState)({totalSessions:0,totalMinutes:0,averageSessionLength:0,weeklyProgress:{},bestTime:"Morning"}),{user:c}=(0,n.useAuth)();(0,i.useEffect)(()=>{if(c){let e=localStorage.getItem("meditation_sessions_".concat(c.id));if(e){let t=JSON.parse(e);l(t),u(t)}}},[c]);let u=e=>{if(0===e.length)return;let t=e.reduce((e,t)=>e+t.duration,0),s=Math.round(t/e.length),r={},i=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];i.forEach(e=>r[e]=0),e.forEach(e=>{let t=i[new Date(e.completedAt).getDay()];r[t]+=e.duration});let n=e.filter(e=>{let t=new Date(e.completedAt).getHours();return t>=5&&t<12}).length,a=e.filter(e=>{let t=new Date(e.completedAt).getHours();return t>=12&&t<17}).length,l=e.filter(e=>{let t=new Date(e.completedAt).getHours();return t>=17&&t<22}).length,o="Morning";a>n&&a>l?o="Afternoon":l>n&&l>a&&(o="Evening"),d({totalSessions:e.length,totalMinutes:t,averageSessionLength:s,weeklyProgress:r,bestTime:o})};return(0,r.jsx)(a.Provider,{value:{sessions:s,stats:o,addSession:(e,t,r)=>{if(!c)return;let i=[...s,{id:Date.now().toString(),userId:c.id,theme:e,duration:t,completedAt:new Date().toISOString(),sessionType:r}];l(i),u(i),localStorage.setItem("meditation_sessions_".concat(c.id),JSON.stringify(i))}},children:t})}function o(){let e=(0,i.useContext)(a);if(void 0===e)throw Error("useMeditation must be used within a MeditationProvider");return e}},1983:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return p}});var r=s(3827),i=s(8371),n=s(4090);let a=n.forwardRef(function(e,t){let{title:s,titleId:r,...i}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),s?n.createElement("title",{id:r},s):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.362 5.214A8.252 8.252 0 0 1 12 21 8.25 8.25 0 0 1 6.038 7.047 8.287 8.287 0 0 0 9 9.601a8.983 8.983 0 0 1 3.361-6.867 8.21 8.21 0 0 0 3 2.48Z"}),n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18a3.75 3.75 0 0 0 .495-7.468 5.99 5.99 0 0 0-1.925 3.547 5.975 5.975 0 0 1-2.133-1.001A3.75 3.75 0 0 0 12 18Z"}))});var l=s(7985),o=s(8179),d=s(1067),c=s(1258);function u(){let{stats:e,sessions:t}=(0,c.useMeditation)(),s=(()=>{if(0===t.length)return 0;let e=new Date;e.setHours(0,0,0,0);let s=t.map(e=>{let t=new Date(e.completedAt);return t.setHours(0,0,0,0),t.getTime()}),r=0,i=e.getTime();for(;s.includes(i);)r++,i-=864e5;return r})(),n=t.filter(e=>"guided"===e.sessionType).length,u=t.filter(e=>"unguided"===e.sessionType).length,m=t.filter(e=>"guided"===e.sessionType).reduce((e,t)=>e+t.duration,0),h=t.filter(e=>"unguided"===e.sessionType).reduce((e,t)=>e+t.duration,0),x=[{id:"streak",name:"Meditation Streak",description:"Complete 7 days in a row",icon:a,progress:s,total:7},{id:"guided",name:"Guided Sessions",description:"Complete 10 guided sessions",icon:l.Z,progress:n,total:10},{id:"unguided",name:"Unguided Sessions",description:"Complete 10 unguided sessions",icon:o.Z,progress:u,total:10},{id:"total",name:"Total Minutes",description:"Meditate for 60 minutes",icon:d.Z,progress:e.totalMinutes,total:60}];return(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-semibold text-gray-800 mb-6",children:"Your Progress"}),(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-800 mb-4",children:"Session Distribution"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"bg-primary-50 rounded-xl p-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsx)("span",{className:"text-primary-600 font-medium",children:"Guided"}),(0,r.jsxs)("span",{className:"text-primary-600",children:[m," min"]})]}),(0,r.jsx)("div",{className:"h-2 bg-primary-100 rounded-full",children:(0,r.jsx)("div",{className:"h-full bg-primary-500 rounded-full transition-all duration-500",style:{width:"".concat(m/e.totalMinutes*100,"%")}})})]}),(0,r.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsx)("span",{className:"text-gray-600 font-medium",children:"Unguided"}),(0,r.jsxs)("span",{className:"text-gray-600",children:[h," min"]})]}),(0,r.jsx)("div",{className:"h-2 bg-gray-100 rounded-full",children:(0,r.jsx)("div",{className:"h-full bg-gray-500 rounded-full transition-all duration-500",style:{width:"".concat(h/e.totalMinutes*100,"%")}})})]})]})]}),(0,r.jsx)("div",{className:"space-y-6",children:x.map(e=>(0,r.jsxs)(i.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex items-start space-x-4",children:[(0,r.jsx)("div",{className:"p-3 rounded-xl bg-primary-100 text-primary-600",children:(0,r.jsx)(e.icon,{className:"w-6 h-6"})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,r.jsx)("h3",{className:"font-medium text-gray-800",children:e.name}),(0,r.jsxs)("span",{className:"text-sm text-gray-500",children:[e.progress,"/",e.total]})]}),(0,r.jsx)("div",{className:"h-2 bg-gray-100 rounded-full",children:(0,r.jsx)("div",{className:"h-full bg-primary-500 rounded-full transition-all duration-500",style:{width:"".concat(Math.min(e.progress/e.total*100,100),"%")}})}),(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:e.description})]})]},e.id))})]})}let m=n.forwardRef(function(e,t){let{title:s,titleId:r,...i}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),s?n.createElement("title",{id:r},s):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}),h=n.forwardRef(function(e,t){let{title:s,titleId:r,...i}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),s?n.createElement("title",{id:r},s):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))});var x=s(8309),g=s(2788),f=s(7907);function p(){let{user:e,logout:t}=(0,g.useAuth)(),{stats:s}=(0,c.useMeditation)(),n=(0,f.useRouter)(),a=Math.max(...Object.values(s.weeklyProgress));return(0,r.jsx)(x.Z,{children:(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white p-8",children:(0,r.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-4xl mx-auto",children:[(0,r.jsx)("div",{className:"bg-white rounded-2xl shadow-lg p-8 mb-8",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,r.jsx)("div",{className:"w-24 h-24 rounded-full bg-primary-100 flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-3xl",children:"\uD83E\uDDD8"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:(null==e?void 0:e.name)||"Meditation Journey"}),(0,r.jsx)("p",{className:"text-gray-600",children:null==e?void 0:e.email})]})]}),(0,r.jsx)("button",{onClick:()=>{t(),n.push("/login")},className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-900 focus:outline-none",children:"Sign out"})]})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[(0,r.jsxs)(i.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-white rounded-2xl shadow-lg p-6",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("div",{className:"p-3 rounded-xl bg-primary-100 text-primary-600",children:(0,r.jsx)(m,{className:"w-6 h-6"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Weekly Progress"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Track your meditation habits"})]})]}),(0,r.jsx)("div",{className:"mt-6 flex justify-between",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map(e=>(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"w-8 h-8 rounded-full bg-primary-100 flex items-center justify-center mb-2",children:(0,r.jsx)("span",{className:"text-xs text-primary-600",children:e})}),(0,r.jsx)("div",{className:"h-16 w-2 bg-gray-100 rounded-full overflow-hidden",children:(0,r.jsx)(i.E.div,{initial:{height:0},animate:{height:a>0?"".concat(s.weeklyProgress[e]/a*100,"%"):"0%"},transition:{duration:1},className:"w-full bg-primary-500"})}),(0,r.jsxs)("span",{className:"text-xs text-gray-500 mt-1",children:[s.weeklyProgress[e]||0,"m"]})]},e))})]}),(0,r.jsxs)(i.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white rounded-2xl shadow-lg p-6",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("div",{className:"p-3 rounded-xl bg-primary-100 text-primary-600",children:(0,r.jsx)(h,{className:"w-6 h-6"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Meditation Stats"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Your mindfulness journey"})]})]}),(0,r.jsxs)("div",{className:"mt-6 space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"Average Session"}),(0,r.jsxs)("span",{className:"text-sm font-medium text-gray-800",children:[s.averageSessionLength," min"]})]}),(0,r.jsx)("div",{className:"h-2 bg-gray-100 rounded-full",children:(0,r.jsx)("div",{className:"h-full bg-primary-500 rounded-full transition-all duration-500",style:{width:"".concat(Math.min(s.averageSessionLength/30*100,100),"%")}})})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"Best Time"}),(0,r.jsx)("span",{className:"text-sm font-medium text-gray-800",children:s.bestTime})]}),(0,r.jsx)("div",{className:"h-2 bg-gray-100 rounded-full",children:(0,r.jsx)("div",{className:"h-full bg-primary-500 rounded-full transition-all duration-500",style:{width:"50%"}})})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"Total Sessions"}),(0,r.jsx)("span",{className:"text-sm font-medium text-gray-800",children:s.totalSessions})]}),(0,r.jsx)("div",{className:"h-2 bg-gray-100 rounded-full",children:(0,r.jsx)("div",{className:"h-full bg-primary-500 rounded-full transition-all duration-500",style:{width:"".concat(Math.min(s.totalSessions/50*100,100),"%")}})})]})]})]})]}),(0,r.jsx)(u,{})]})})})}},7907:function(e,t,s){"use strict";var r=s(5313);s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})},1067:function(e,t,s){"use strict";var r=s(4090);let i=r.forwardRef(function(e,t){let{title:s,titleId:i,...n}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},n),s?r.createElement("title",{id:i},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))});t.Z=i},8179:function(e,t,s){"use strict";var r=s(4090);let i=r.forwardRef(function(e,t){let{title:s,titleId:i,...n}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},n),s?r.createElement("title",{id:i},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"}))});t.Z=i},7985:function(e,t,s){"use strict";var r=s(4090);let i=r.forwardRef(function(e,t){let{title:s,titleId:i,...n}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},n),s?r.createElement("title",{id:i},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))});t.Z=i}},function(e){e.O(0,[371,971,69,744],function(){return e(e.s=2001)}),_N_E=e.O()}]);