(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{1287:function(e,t,r){Promise.resolve().then(r.bind(r,4851)),Promise.resolve().then(r.bind(r,2788)),Promise.resolve().then(r.bind(r,1258)),Promise.resolve().then(r.t.bind(r,2445,23))},4851:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return C}});var n=r(3827),o=r(4090),i=r(8792),a=r(7907),s=r(3856),l=r(2435),u=r(4561),c=r(3449);class d extends o.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function h(e){let{children:t,isPresent:r}=e,i=(0,o.useId)(),a=(0,o.useRef)(null),s=(0,o.useRef)({width:0,height:0,top:0,left:0}),{nonce:l}=(0,o.useContext)(c._);return(0,o.useInsertionEffect)(()=>{let{width:e,height:t,top:n,left:o}=s.current;if(r||!a.current||!e||!t)return;a.current.dataset.motionPopId=i;let u=document.createElement("style");return l&&(u.nonce=l),document.head.appendChild(u),u.sheet&&u.sheet.insertRule('\n          [data-motion-pop-id="'.concat(i,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            top: ").concat(n,"px !important;\n            left: ").concat(o,"px !important;\n          }\n        ")),()=>{document.head.removeChild(u)}},[r]),(0,n.jsx)(d,{isPresent:r,childRef:a,sizeRef:s,children:o.cloneElement(t,{ref:a})})}let f=e=>{let{children:t,initial:r,isPresent:i,onExitComplete:a,custom:s,presenceAffectsLayout:c,mode:d}=e,f=(0,l.h)(m),p=(0,o.useId)(),g=(0,o.useCallback)(e=>{for(let t of(f.set(e,!0),f.values()))if(!t)return;a&&a()},[f,a]),x=(0,o.useMemo)(()=>({id:p,initial:r,isPresent:i,custom:s,onExitComplete:g,register:e=>(f.set(e,!1),()=>f.delete(e))}),c?[Math.random(),g]:[i,g]);return(0,o.useMemo)(()=>{f.forEach((e,t)=>f.set(t,!1))},[i]),o.useEffect(()=>{i||f.size||!a||a()},[i]),"popLayout"===d&&(t=(0,n.jsx)(h,{isPresent:i,children:t})),(0,n.jsx)(u.O.Provider,{value:x,children:t})};function m(){return new Map}var p=r(3177);let g=e=>e.key||"";function x(e){let t=[];return o.Children.forEach(e,e=>{(0,o.isValidElement)(e)&&t.push(e)}),t}var v=r(5526);let w=e=>{let{children:t,custom:r,initial:i=!0,onExitComplete:a,presenceAffectsLayout:u=!0,mode:c="sync",propagate:d=!1}=e,[h,m]=(0,p.oO)(d),w=(0,o.useMemo)(()=>x(t),[t]),b=d&&!h?[]:w.map(g),E=(0,o.useRef)(!0),y=(0,o.useRef)(w),j=(0,l.h)(()=>new Map),[k,S]=(0,o.useState)(w),[M,P]=(0,o.useState)(w);(0,v.L)(()=>{E.current=!1,y.current=w;for(let e=0;e<M.length;e++){let t=g(M[e]);b.includes(t)?j.delete(t):!0!==j.get(t)&&j.set(t,!1)}},[M,b.length,b.join("-")]);let L=[];if(w!==k){let e=[...w];for(let t=0;t<M.length;t++){let r=M[t],n=g(r);b.includes(n)||(e.splice(t,0,r),L.push(r))}"wait"===c&&L.length&&(e=L),P(x(e)),S(w);return}let{forceRender:C}=(0,o.useContext)(s.p);return(0,n.jsx)(n.Fragment,{children:M.map(e=>{let t=g(e),o=(!d||!!h)&&(w===M||b.includes(t));return(0,n.jsx)(f,{isPresent:o,initial:(!E.current||!!i)&&void 0,custom:o?void 0:r,presenceAffectsLayout:u,mode:c,onExitComplete:o?void 0:()=>{if(!j.has(t))return;j.set(t,!0);let e=!0;j.forEach(t=>{t||(e=!1)}),e&&(null==C||C(),P(y.current),d&&(null==m||m()),a&&a())},children:e},t)})})};var b=r(8371);let E=o.forwardRef(function(e,t){let{title:r,titleId:n,...i}=e;return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},i),r?o.createElement("title",{id:n},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))});var y=r(461);let j=o.forwardRef(function(e,t){let{title:r,titleId:n,...i}=e;return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},i),r?o.createElement("title",{id:n},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}),k=o.forwardRef(function(e,t){let{title:r,titleId:n,...i}=e;return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},i),r?o.createElement("title",{id:n},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}),S=o.forwardRef(function(e,t){let{title:r,titleId:n,...i}=e;return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},i),r?o.createElement("title",{id:n},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))});var M=r(2788);let P=[{name:"Home",href:"/",icon:E},{name:"Guided",href:"/guided",icon:y.Z},{name:"Profile",href:"/profile",icon:j}],L=[{name:"Home",href:"/",icon:E},{name:"Login",href:"/login",icon:j}];function C(){let[e,t]=(0,o.useState)(!1),[r,s]=(0,o.useState)(!1),l=(0,a.usePathname)(),{user:u}=(0,M.useAuth)(),c=u?P:L;return((0,o.useEffect)(()=>{s(!0)},[]),r)?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("button",{onClick:()=>t(!e),className:"fixed top-4 right-4 z-50 p-2 rounded-lg bg-white/80 backdrop-blur-sm shadow-lg md:hidden",children:e?(0,n.jsx)(k,{className:"w-6 h-6 text-gray-600"}):(0,n.jsx)(S,{className:"w-6 h-6 text-gray-600"})}),(0,n.jsx)(w,{children:e&&(0,n.jsx)(b.E.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:20},className:"fixed inset-y-0 right-0 w-64 bg-white shadow-xl z-40 md:hidden",children:(0,n.jsx)("div",{className:"flex flex-col h-full p-6",children:(0,n.jsx)("div",{className:"flex-1 space-y-4",children:c.map(e=>(0,n.jsxs)(i.default,{href:e.href,onClick:()=>t(!1),className:"flex items-center space-x-3 px-4 py-3 rounded-xl transition-colors ".concat(l===e.href?"bg-primary-100 text-primary-600":"text-gray-600 hover:bg-gray-50"),children:[(0,n.jsx)(e.icon,{className:"w-6 h-6"}),(0,n.jsx)("span",{className:"font-medium",children:e.name})]},e.name))})})})}),(0,n.jsx)("nav",{className:"fixed top-1/2 right-8 -translate-y-1/2 z-40 hidden md:block",children:(0,n.jsx)("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg p-3",children:(0,n.jsx)("div",{className:"flex flex-col space-y-2",children:c.map(e=>(0,n.jsx)(i.default,{href:e.href,className:"p-3 rounded-xl transition-all duration-200 ".concat(l===e.href?"bg-primary-100 text-primary-600 transform scale-110":"text-gray-600 hover:bg-gray-50 hover:scale-105"),title:e.name,children:(0,n.jsx)(e.icon,{className:"w-6 h-6"})},e.name))})})})]}):null}},2788:function(e,t,r){"use strict";r.r(t),r.d(t,{AuthProvider:function(){return a},useAuth:function(){return s}});var n=r(3827),o=r(4090);let i=(0,o.createContext)(void 0);function a(e){let{children:t}=e,[r,a]=(0,o.useState)(null),[s,l]=(0,o.useState)(!0);(0,o.useEffect)(()=>{let e=localStorage.getItem("user");e&&a(JSON.parse(e)),l(!1)},[]);let u=async(e,t)=>{try{let t={id:"1",email:e,name:"Test User"};a(t),localStorage.setItem("user",JSON.stringify(t))}catch(e){throw Error("Login failed")}},c=async(e,t,r)=>{try{let t={id:"1",email:e,name:r};a(t),localStorage.setItem("user",JSON.stringify(t))}catch(e){throw Error("Registration failed")}};return(0,n.jsx)(i.Provider,{value:{user:r,loading:s,login:u,register:c,logout:()=>{a(null),localStorage.removeItem("user")}},children:t})}function s(){let e=(0,o.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},1258:function(e,t,r){"use strict";r.r(t),r.d(t,{MeditationProvider:function(){return s},useMeditation:function(){return l}});var n=r(3827),o=r(4090),i=r(2788);let a=(0,o.createContext)(void 0);function s(e){let{children:t}=e,[r,s]=(0,o.useState)([]),[l,u]=(0,o.useState)({totalSessions:0,totalMinutes:0,averageSessionLength:0,weeklyProgress:{},bestTime:"Morning"}),{user:c}=(0,i.useAuth)();(0,o.useEffect)(()=>{if(c){let e=localStorage.getItem("meditation_sessions_".concat(c.id));if(e){let t=JSON.parse(e);s(t),d(t)}}},[c]);let d=e=>{if(0===e.length)return;let t=e.reduce((e,t)=>e+t.duration,0),r=Math.round(t/e.length),n={},o=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];o.forEach(e=>n[e]=0),e.forEach(e=>{let t=o[new Date(e.completedAt).getDay()];n[t]+=e.duration});let i=e.filter(e=>{let t=new Date(e.completedAt).getHours();return t>=5&&t<12}).length,a=e.filter(e=>{let t=new Date(e.completedAt).getHours();return t>=12&&t<17}).length,s=e.filter(e=>{let t=new Date(e.completedAt).getHours();return t>=17&&t<22}).length,l="Morning";a>i&&a>s?l="Afternoon":s>i&&s>a&&(l="Evening"),u({totalSessions:e.length,totalMinutes:t,averageSessionLength:r,weeklyProgress:n,bestTime:l})};return(0,n.jsx)(a.Provider,{value:{sessions:r,stats:l,addSession:(e,t,n)=>{if(!c)return;let o=[...r,{id:Date.now().toString(),userId:c.id,theme:e,duration:t,completedAt:new Date().toISOString(),sessionType:n}];s(o),d(o),localStorage.setItem("meditation_sessions_".concat(c.id),JSON.stringify(o))}},children:t})}function l(){let e=(0,o.useContext)(a);if(void 0===e)throw Error("useMeditation must be used within a MeditationProvider");return e}},7907:function(e,t,r){"use strict";var n=r(5313);r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}}),r.o(n,"useSearchParams")&&r.d(t,{useSearchParams:function(){return n.useSearchParams}})},2445:function(){},461:function(e,t,r){"use strict";var n=r(4090);let o=n.forwardRef(function(e,t){let{title:r,titleId:o,...i}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":o},i),r?n.createElement("title",{id:o},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))});t.Z=o}},function(e){e.O(0,[371,792,971,69,744],function(){return e(e.s=1287)}),_N_E=e.O()}]);